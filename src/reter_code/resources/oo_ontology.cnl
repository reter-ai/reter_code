% Object-Oriented Meta-Ontology - CNL Format
% Language-independent concepts for semantic code analysis
%
% This ontology defines generic OO concepts that language-specific ontologies
% extend via subsumption relationships.
%
% Example: Every python-class is a class.
%          Every csharp-class is a class.
%
% This allows queries like "FIND ?c WHERE class(?c)" to match classes from
% all supported languages.
%
% Naming Convention:
%   - Concepts: hyphenated-lowercase (e.g., try-block, catch-clause)
%   - Roles: hyphenated-lowercase forming natural sentences
%   - Instances: Capital-Case (e.g., My-Class, Main-Module)

% ============================================================================
% Core Entity Hierarchy
% ============================================================================

% Callable entities
Every method is a function.
Every constructor is a method.
Every destructor is a method.
Every arrow-function is a function.

% Type entities
Every interface is a type.
Every class is a type.
Every struct is a type.
Every union is a type.
Every enum is a type.
Every delegate is a type.
Every type-alias is a type.
Every type-def is a type.
Every template is a type.

% Member entities
Every field is a member.
Every property is a member.
Every event is a member.

% Module entities
Every module is a source-unit.
Every compilation-unit is a source-unit.
Every translation-unit is a source-unit.

% ============================================================================
% Statement Hierarchy
% ============================================================================

% Exception handling statements
Every catch-clause is a statement.
Every finally-clause is a statement.
Every try-block is a statement.
Every try-else-block is a statement.
Every throw-statement is a statement.

% Control flow statements
Every return-statement is a statement.
Every with-statement is a statement.

% Other statements
Every assignment is a statement.

% ============================================================================
% Containment Relationships (is-X-of pattern)
% ============================================================================

% These form natural sentences: "Method-1 is-defined-in Class-1"
% Every method is-defined-in exactly one type.
% Every field is-defined-in exactly one type.
% Every parameter is-parameter-of exactly one function.

% ============================================================================
% Ownership Relationships (has-X pattern)
% ============================================================================

% These form natural sentences: "Class-1 has-method Method-1"
% Every class has-method at-least zero method.
% Every class has-field at-least zero field.
% Every function has-parameter at-least zero parameter.
% Every try-block has-catch-clause at-least zero catch-clause.
% Every try-block has-finally-clause at-most one finally-clause.

% ============================================================================
% Behavioral Relationships (action verb pattern)
% ============================================================================

% Call relationships - transitive for call graph analysis
% If X calls something that calls Y then X transitively-calls Y.

% Creation relationships
% Every constructor creates exactly one type.

% Access relationships
% Every method reads at-least zero field.
% Every method writes at-least zero field.

% ============================================================================
% Inheritance Relationships
% ============================================================================

% Inheritance is transitive
% If X inherits-from something that inherits-from Y then X inherits-from Y.

% Type inference through inheritance
% If X is-instance-of something that inherits-from Y then Y is-type-of X.

% ============================================================================
% Language-Specific Subsumption (for backward compatibility)
% ============================================================================

% Python
Every python-class is a class.
Every python-method is a method.
Every python-function is a function.
Every python-module is a module.
Every python-import is an import.
Every python-parameter is a parameter.
Every python-attribute is a field.

% C#
Every csharp-class is a class.
Every csharp-method is a method.
Every csharp-interface is an interface.
Every csharp-struct is a struct.
Every csharp-enum is an enum.
Every csharp-property is a property.
Every csharp-field is a field.
Every csharp-constructor is a constructor.
Every csharp-event is an event.
Every csharp-delegate is a delegate.
Every csharp-namespace is a namespace.
Every csharp-parameter is a parameter.

% C++
Every cpp-class is a class.
Every cpp-method is a method.
Every cpp-function is a function.
Every cpp-struct is a struct.
Every cpp-union is a union.
Every cpp-enum is an enum.
Every cpp-constructor is a constructor.
Every cpp-destructor is a destructor.
Every cpp-field is a field.
Every cpp-template is a template.
Every cpp-namespace is a namespace.
Every cpp-parameter is a parameter.
Every cpp-macro is a macro.

% JavaScript/TypeScript
Every javascript-class is a class.
Every javascript-method is a method.
Every javascript-function is a function.
Every javascript-interface is an interface.
Every javascript-enum is an enum.
Every javascript-field is a field.
Every javascript-property is a property.
Every javascript-constructor is a constructor.
Every javascript-module is a module.
Every javascript-parameter is a parameter.
Every javascript-arrow-function is an arrow-function.

% ============================================================================
% Code Quality Concepts (for detectors)
% ============================================================================

% God class - class with too many methods/responsibilities
Every god-class is a class.

% Long method - method with too many lines
Every long-method is a method.

% Feature envy - method using more features of another class
Every feature-envy-method is a method.

% Data class - class with only getters/setters
Every data-class is a class.

% ============================================================================
% Architectural Concepts (for validation)
% ============================================================================

% Layers
Every presentation-layer is a layer.
Every service-layer is a layer.
Every data-access-layer is a layer.
Every infrastructure-layer is a layer.

% Patterns
Every singleton is a class.
Every factory is a class.
Every adapter is a class.
Every observer is a class.
Every strategy is a class.

% ============================================================================
% HTML/Document Entity Hierarchy
% ============================================================================

% Document structure
Every document is a source-unit.
Every element is an entity.
Every script is an entity.
Every script-reference is an entity.
Every style-sheet is an entity.

% Forms and inputs
Every form is an element.
Every form-input is an element.
Every link is an element.
Every meta is an element.
Every image is an element.
Every iframe is an element.

% Event handling
Every event-handler is an entity.
Every data-attribute is an entity.

% Framework directives
Every framework-indicator is an entity.
Every vue-directive is a framework-indicator.
Every angular-directive is a framework-indicator.
Every htmx-attribute is a framework-indicator.
Every alpine-directive is a framework-indicator.

% ============================================================================
% Boolean Modifier Subtypes
% ============================================================================
% These subtypes replace boolean is-* attributes with proper entity types.
% The cax-sco rule automatically infers base types from subtypes.

% Method subtypes
Every abstract-method is a method.
Every static-method is a method.
Every async-method is a method.
Every final-method is a method.
Every override-method is a method.
Every virtual-method is a method.
Every pure-virtual-method is a virtual-method.
Every getter-method is a method.
Every setter-method is a method.
Every inline-method is a method.
Every extern-method is a method.
Every synchronized-method is a method.
Every mutating-method is a method.
Every open-method is a method.
Every partial-method is a method.
Every implicit-method is a method.
Every defaulted-method is a method.
Every deleted-method is a method.
Every empty-body-method is a method.
Every unsafe-method is a method.
Every throwing-method is a method.
Every private-method is a method.

% Function subtypes
Every abstract-function is a function.
Every async-function is a function.
Every inline-function is a function.
Every extern-function is a function.
Every generator-function is a function.
Every empty-body-function is a function.
Every foreign-function is a function.
Every forward-declared-function is a function.
Every ambient-function is a function.
Every unsafe-function is a function.
Every throwing-function is a function.
Every raii-cleanup-function is a function.
Every error-code-like-function is a function.
Every status-code-like-function is a function.

% Class subtypes
Every abstract-class is a class.
Every sealed-class is a class.
Every final-class is a class.
Every case-class is a class.
Every newtype-class is a class.
Every open-class is a class.
Every partial-class is a class.
Every forward-declared-class is a class.
Every ambient-class is a class.

% Field subtypes
Every static-field is a field.
Every readonly-field is a field.
Every const-field is a field.
Every lazy-field is a field.
Every mutable-field is a field.
Every weak-field is a field.
Every withevents-field is a field.
Every private-field is a field.

% Parameter subtypes
Every rest-parameter is a parameter.
Every optional-parameter is a parameter.
Every required-parameter is a parameter.
Every mutable-parameter is a parameter.
Every implicit-parameter is a parameter.

% Property subtypes
Every readonly-property is a property.
Every computed-property is a property.
Every lazy-property is a property.
Every atomic-property is a property.
Every nonatomic-property is a property.
Every optional-property is a property.
Every required-property is a property.

% Catch-clause subtypes
Every silent-swallow-catch is a catch-clause.
Every general-exception-catch is a catch-clause.
Every rethrowing-catch is a catch-clause.
Every empty-catch is a catch-clause.
Every empty-body-catch is a catch-clause.
Every bare-except-catch is a catch-clause.
Every catch-all-catch is a catch-clause.
Every except-star-catch is a catch-clause.
Every comment-only-catch is a catch-clause.

% Assignment subtypes
Every augmented-assignment is an assignment.
Every attribute-assignment is an assignment.

% Import subtypes
Every static-import is an import.
Every blank-import is an import.
Every dot-import is an import.
Every extern-crate-import is an import.
Every glob-import is an import.
Every qualified-import is an import.

% Variable subtypes
Every const-variable is a variable.
Every mutable-variable is a variable.
Every ambient-variable is a variable.

% Enum subtypes
Every scoped-enum is an enum.
Every indirect-enum is an enum.

% Constructor subtypes
Every convenience-constructor is a constructor.
Every failable-constructor is a constructor.

% Return-statement subtypes
Every null-return is a return-statement.
Every void-return is a return-statement.
Every bool-return is a return-statement.
Every code-return is a return-statement.
Every nullish-return is a return-statement.
Every this-return is a return-statement.

% Throw-statement subtypes
Every typed-error-throw is a throw-statement.
Every new-error-throw is a throw-statement.

% Type-alias subtypes
Every exported-type-alias is a type-alias.

% Export subtypes
Every default-export is an export.

% HTML subtypes
Every external-script is a script.
Every external-style-sheet is a style-sheet.
Every required-form-input is a form-input.

% Literal subtypes
Every magic-number-literal is a literal.

% Closure subtypes
Every move-closure is an anonymous-function.
